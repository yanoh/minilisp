Stack-Architecture of Previous version
======================================

```
      +--------------------+
+---->|       main()       |
|     +--------------------+
|     | [0] NULL           |
|     | [1] &main          |
|     |- - - - - - - - - - |
|     | [2] (Obj *) 0      |<----[ Obj **sexp     ]
|     | [3] (Obj *) 0      |<----[ Obj **expanded ]
|     |- - - - - - - - - - |
|     | [4] (Obj *) -1     |
|     +--------------------+
|
|     +--------------------+
|     |   add_primitive()  |<--------------------------+
|     +--------------------+                           |
+-----| [0] (Obj **) ?     |                           |
      | [1] &add_primitive |                           |
      |- - - - - - - - - - |                           |
      | [2] (Obj *) 0      |<----[ Obj **prim     ]    |
      | [3] (Obj *) 0      |--+                        |
      | [4] (Obj *) 0      |  | useless                |
      | [5] (Obj *) 0      |--+                        |
      |- - - - - - - - - - |                           |
      | [6] (Obj *) -1     |                           |
      +--------------------+                           |
                                                       |
      +--------------------+                           |
+---->|      add_var()     |                           |
|     +--------------------+                           |
|     | [0] (Obj **) ?     |---------------------------+
|     | [1] &add_var       |
|     |- - - - - - - - - - |
|     | [2] (Obj *) 0      |<----[ Obj **sym      ]
|     | [3] (Obj *) 0      |<----[ Obj **cell     ]
|     | [4] (Obj *) 0      |<----[ Obj **tmp      ] useless
|     |- - - - - - - - - - |
|     | [5] (Obj *) -1     |
|     +--------------------+
|
|     +--------------------+
|     |    add_var_int()   |
|     +--------------------+
+-----| [0] (Obj **) ?     |
      | [1] &add_var_init  |
      |- - - - - - - - - - |
      | [2] (Obj *) 0      |<----[ Obj **cell     ]
      | [3] (Obj *) 0      |<----[ Obj **tmp      ]
      |- - - - - - - - - - |
      | [4] (Obj *) -1     |
      +--------------------+
```

Newest-Architecture
====================

```
      +--------------------+
      |       main()       |
      +--------------------+
+---->| int type           |
|     | Obj *heap          |
|     | Obj *car           |-----[ Obj **sexp     ]
|     | Obj *cdr           |-----[ NULL           ]
|     |- - - - - - - - - - |
|     | int type           |<--------------------------+
|     | Obj *heap          |                           |
|     | Obj *car           |-----[ Obj **expanded ]    |
+-----| Obj *cdr           |-----[ <prev-cell>    ]    |
      +--------------------+                           |
                                                       | 
      +--------------------+                           |
      |   add_primitive()  |                           |
      +--------------------+                           |
+---->| int type           |                           |
|     | Obj *heap          |                           |
|     | Obj *car           |-----[ Obj **prim     ]    |
|     | Obj *cdr           |-----[ <prev-cell>    ]----+
|     +--------------------+
|
|     +--------------------+
|     |      add_var()     |
|     +--------------------+
|     | int type           |<--------------------------+
|     | Obj *heap          |                           |
|     | Obj *car           |-----[ Obj **sym      ]    |
+-----| Obj *cdr           |-----[ <prev-cell>    ]    |
      |- - - - - - - - - - |                           |
+---->| int type           |                           |
|     | Obj *heap          |                           |
|     | Obj *car           |-----[ Obj **cell     ]    |
|     | Obj *cdr           |-----[ <prev-cell>    ]----+
|     |- - - - - - - - - - |
|     | int type           |<--------------------------+
|     | Obj *heap          |                           |
|     | Obj *car           |-----[ Obj **tmp      ]    |
+-----| Obj *cdr           |-----[ <prev-cell>    ]    |
      +--------------------+                           |
                                                       |
                                                       |
      +--------------------+                           |
      |    add_var_int()   |                           |
      +--------------------+                           |
+---->| int type           |                           |
|     | Obj *heap          |                           |
|     | Obj *car           |-----[ Obj **cell     ]    |
|     | Obj *cdr           |-----[ <prev-cell>    ]----+
|     |- - - - - - - - - - |
|     | int type           |
|     | Obj *heap          |
|     | Obj *car           |-----[ Obj **tmp      ]
+-----| Obj *cdr           |-----[ <prev-cell>    ]
      +--------------------+
```

